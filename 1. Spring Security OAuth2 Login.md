# âœ… Spring Security OAuth2 Login (Authorization Code) ğŸ§©ğŸ”

## 0) ì „ì œ: â€œOAuth2 Loginâ€ì´ ì •í™•íˆ ì˜ë¯¸í•˜ëŠ” ê²ƒ ğŸ¯

Spring Securityì˜ **OAuth2 Login**ì€ ë³´í†µ ë‹¤ìŒì„ í¬í•¨í•©ë‹ˆë‹¤.

* **OAuth 2.0 Authorization Code Grant** (í•„ìˆ˜) ğŸ«
* **Providerê°€ OIDCë¥¼ ì§€ì›** í•˜ê³  **openid ìŠ¤ì½”í”„ê°€ í¬í•¨** ë˜ë©´, OIDC ë¡œê·¸ì¸ìœ¼ë¡œ í™•ì¥ë˜ì–´ ID Tokenê³¼ nonce ê²€ì¦ê¹Œì§€ ìë™ìœ¼ë¡œ ì²˜ë¦¬ ğŸªª

ì¦‰, â€œOAuth2 ë¡œê·¸ì¸â€ì€ ë‹¨ìˆœíˆ í† í°ë§Œ ë°›ëŠ” ê²Œ ì•„ë‹ˆë¼
**ë¸Œë¼ìš°ì € ê¸°ë°˜ ë¡œê·¸ì¸ ì„¸ì…˜ì„ ë§Œë“¤ì–´ì„œ SecurityContextì— ì¸ì¦ì„ ì €ì¥**í•˜ëŠ” ì „ì²´ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ğŸ§ 

---

# 1) ì „ì²´ ì•„í‚¤í…ì²˜ & íë¦„ ìš”ì•½ ğŸ—ºï¸ğŸ”

## [1] í´ë¼ì´ì–¸íŠ¸ â†’ `/oauth2/authorization/{registrationId}` ìš”ì²­ ğŸ

ì˜ˆ: `/oauth2/authorization/google`

* ì´ ì—”ë“œí¬ì¸íŠ¸ëŠ” â€œë¡œê·¸ì¸ì„ ì‹œì‘í•˜ëŠ” íŠ¸ë¦¬ê±° URLâ€
* ë‚´ë¶€ì ìœ¼ë¡œ â€œAuthorization Requestâ€ë¥¼ ë§Œë“¤ê³  Providerë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•©ë‹ˆë‹¤.

---

## [2] `OAuth2AuthorizationRequestRedirectFilter` ì§„ì… ğŸ”€

ğŸ“Œ í•µì‹¬ ì—­í•  3ê°€ì§€

### âœ… (1) Authorization Request ìƒì„± ğŸ§¾

* client_id, redirect_uri, response_type=code, scope ë“± êµ¬ì„±
* ì¶”ê°€ë¡œ **state** ìƒì„±(í•„ìˆ˜) ğŸ›¡ï¸

  * CSRF ë°©ì§€ ëª©ì 
  * ë‚˜ì¤‘ì— callbackì—ì„œ ë™ì¼í•œ stateì¸ì§€ ê²€ì¦

### âœ… (2) AuthorizationRequest ì €ì¥ ğŸ—ƒï¸

ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²Œ â€œì €ì¥ì†Œâ€ì…ë‹ˆë‹¤.

* ê¸°ë³¸: `HttpSessionOAuth2AuthorizationRequestRepository`
  â†’ **ì„¸ì…˜ì— AuthorizationRequest ì €ì¥**
* ëŒ€ì•ˆ: ì¿ í‚¤ ê¸°ë°˜ Repository(ì»¤ìŠ¤í…€ ê°€ëŠ¥) ğŸª

ì´ ì €ì¥ì´ í•„ìš”í•œ ì´ìœ :

* callbackì—ì„œ `state` ê²€ì¦ ë° ìš”ì²­ ì •ë³´(redirect_uri ë“±)ë¥¼ ë³µì›í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

### âœ… (3) Provider Authorization Endpointë¡œ Redirect ğŸš€

ìµœì¢…ì ìœ¼ë¡œ ë¸Œë¼ìš°ì €ë¥¼ Providerë¡œ ë³´ë‚´ëŠ” 302ê°€ ë°œìƒí•©ë‹ˆë‹¤.

---

## [3] ë¡œê·¸ì¸ í›„ callback: `/login/oauth2/code/{registrationId}`ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ğŸ”

ì˜ˆ: `/login/oauth2/code/google?code=...&state=...`

ì´ ì‹œì ì— ë¸Œë¼ìš°ì €ëŠ”:

* `code`(Authorization Code)
* `state`
  ë¥¼ ë“¤ê³  ëŒì•„ì˜µë‹ˆë‹¤. ğŸ«ğŸ›¡ï¸

---

## [4] `OAuth2LoginAuthenticationFilter` ì§„ì… ğŸšª

ì´ í•„í„°ëŠ” **callback URL**ì„ ì²˜ë¦¬í•˜ëŠ” í•µì‹¬ ì§„ì…ì ì…ë‹ˆë‹¤.

ğŸ“Œ í•„í„° ë‚´ë¶€ì—ì„œ í•˜ëŠ” ì¼ì€ â€œìš”ì²­ì„ Authentication ê°ì²´ë¡œ ë°”ê¾¸ê³  AuthenticationManagerì— ìœ„ì„â€ì…ë‹ˆë‹¤.

* callbackì—ì„œ `code/state`ë¥¼ ì¶”ì¶œ
* ì €ì¥ì†Œì—ì„œ AuthorizationRequestë¥¼ êº¼ë‚´ `state` ë§¤ì¹­ í™•ì¸
* `OAuth2LoginAuthenticationToken`(ìš”ì²­ìš© í† í°)ì„ êµ¬ì„±
* `AuthenticationManager.authenticate()` í˜¸ì¶œ

```java
Authentication result =
    this.authenticationManager.authenticate(authenticationRequest);
```

---

## [5] Provider ë‹¨ê³„: `OAuth2LoginAuthenticationProvider` ì²˜ë¦¬ ğŸ§ âš™ï¸

ì—¬ê¸°ì„œ ë³¸ê²© â€œì½”ë“œ â†’ í† í° â†’ ì‚¬ìš©ìâ€ íŒŒì´í”„ë¼ì¸ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.

### â””â”€â”€ [A] Authorization Code â†’ Access Token êµí™˜ ğŸ”‘

* `OAuth2AccessTokenResponseClient<OAuth2AuthorizationCodeGrantRequest>`

  * ê¸°ë³¸ êµ¬í˜„: `DefaultAuthorizationCodeTokenResponseClient`

ğŸ“Œ í•˜ëŠ” ì¼:

* Token Endpointë¡œ POST
* code + client ì¸ì¦(client_secret_basic/post ë“±)
* ì‘ë‹µ: access_token (+ refresh_token optional) (+ id_token optional)

---

### â””â”€â”€ [B] Access Token â†’ UserInfo Endpoint í˜¸ì¶œ ğŸ‘¤ğŸ“¡

* `OAuth2UserService<OAuth2UserRequest, OAuth2User>`

  * ê¸°ë³¸ êµ¬í˜„: `DefaultOAuth2UserService`

ğŸ“Œ í•˜ëŠ” ì¼:

* Authorization: Bearer <access_token> í—¤ë”ë¡œ UserInfo í˜¸ì¶œ
* JSON ì‘ë‹µì„ `Map<String,Object>`ë¡œ ë³€í™˜
* `DefaultOAuth2User` ìƒì„±

---

## [6] `OAuth2AuthenticationToken` ìƒì„± & SecurityContext ì €ì¥ ğŸ§ âœ…

Providerê°€ ë°˜í™˜í•œ ì‚¬ìš©ì(OAuth2User)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìµœì¢… ì¸ì¦ ê°ì²´ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.

íë¦„ì€ ë³´í†µ:

* ë‚´ë¶€ì ìœ¼ë¡œ `OAuth2LoginAuthenticationToken`(ì¤‘ê°„ ë‹¨ê³„) ìƒì„±
* ìµœì¢…ì ìœ¼ë¡œ `OAuth2AuthenticationToken`(ì„¸ì…˜ì— ë‚¨ëŠ” ìµœì¢… Principal ì¸ì¦) í˜•íƒœë¡œ SecurityContextì— ì €ì¥ë˜ëŠ” íë¦„ì´ ë§ìŠµë‹ˆë‹¤(êµ¬ì„±/ë²„ì „ì— ë”°ë¼ ë‚´ë¶€ í† í° íë¦„ì€ ì•½ê°„ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ). âœ…

ê·¸ë¦¬ê³ :

```java
SecurityContextHolder.getContext().setAuthentication(authentication);
```

---

## [7] ì´í›„ ìš”ì²­ë¶€í„°ëŠ” ğŸ‰

* ì„¸ì…˜ ê¸°ë°˜ì´ë©´: `SecurityContext`ê°€ ì„¸ì…˜ì—ì„œ ë³µì›ë¨
* ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ:

  * `@AuthenticationPrincipal OAuth2User`
  * `SecurityContextHolder.getContext().getAuthentication()`
    ë¡œ ì ‘ê·¼ ê°€ëŠ¥ âœ…

---

# 2) í•µì‹¬ í´ë˜ìŠ¤ êµ¬ì¡°ë„ ğŸ§©

ê¸°ì¡´ êµ¬ì¡°ëŠ” ì•„ì£¼ ì¢‹ìŠµë‹ˆë‹¤. ì—¬ê¸°ì— â€œì €ì¥ì†Œ/í•¸ë“¤ëŸ¬/ë¦¬ë‹¤ì´ë ‰íŠ¸ ì „ëµâ€ì„ ë³´ê°•í•˜ë©´ ë¬¸ì„œ ì™„ì„±ë„ê°€ ì˜¬ë¼ê°‘ë‹ˆë‹¤.

```
/oauth2/authorization/{id}
  -> OAuth2AuthorizationRequestRedirectFilter
      -> OAuth2AuthorizationRequestResolver (DefaultOAuth2AuthorizationRequestResolver)
      -> AuthorizationRequestRepository (HttpSessionOAuth2AuthorizationRequestRepository)
      -> RedirectStrategy

/login/oauth2/code/{id}
  -> OAuth2LoginAuthenticationFilter
      -> AuthenticationManager
          -> OAuth2LoginAuthenticationProvider
              -> OAuth2AccessTokenResponseClient (DefaultAuthorizationCodeTokenResponseClient)
              -> OAuth2UserService (DefaultOAuth2UserService)
      -> AuthenticationSuccessHandler / FailureHandler
      -> SecurityContextRepository (HttpSessionSecurityContextRepository)
```

---

# 3) `OAuth2LoginAuthenticationFilter` (ì§„ì…ì ) ìƒì„¸ í•´ë¶€ ğŸ§ ğŸšª

### âœ… ì²˜ë¦¬ ëŒ€ìƒ URL

`/login/oauth2/code/{registrationId}`

### âœ… ì´ í•„í„°ê°€ í•˜ëŠ” í•µì‹¬ ì²´í¬

* **state ê²€ì¦**: ì €ì¥í•´ ë‘” AuthorizationRequestì™€ callback stateê°€ ê°™ì€ì§€
* ì‹¤íŒ¨ ì‹œ `OAuth2AuthenticationException` ë°œìƒ â†’ FailureHandlerë¡œ ì´ë™ ğŸ’¥

### âœ… ì„±ê³µ ì‹œ ë¶€ìˆ˜ íš¨ê³¼

* SecurityContext ì €ì¥
* (í•„ìš”ì‹œ) ì›ë˜ ê°€ë ¤ë˜ URLë¡œ ë³µê·€

  * `RequestCache`ê°€ ì €ì¥í•œ ì›ë˜ ìš”ì²­ì„ ì‚¬ìš©í•´ì„œ redirect ğŸ¯

ğŸ‘‰ ê·¸ë˜ì„œ â€œë¡œê·¸ì¸ í›„ ì›ë˜ í˜ì´ì§€ë¡œ ëŒì•„ê°„ë‹¤â€ê°€ êµ¬í˜„ë©ë‹ˆë‹¤.

---

# 4) `OAuth2LoginAuthenticationProvider` ğŸ”§ğŸ”¥

## 4.1 Access Token ìš”ì²­(A) ğŸ”‘

```java
OAuth2AccessTokenResponse tokenResponse =
    this.accessTokenResponseClient.getTokenResponse(authorizationCodeGrantRequest);
```

### âœ… authorizationCodeGrantRequest ì•ˆì— ë“¤ì–´ìˆëŠ” ê²ƒë“¤

* clientRegistration (client_id, token_uri, redirect_uri ë“±)
* authorizationExchange

  * authorizationRequest(ì› ìš”ì²­)
  * authorizationResponse(code, state)

### âœ… í† í° êµí™˜ì—ì„œ ìì£¼ í„°ì§€ëŠ” í¬ì¸íŠ¸ ğŸ’£

* redirect-uri mismatch
* client ì¸ì¦ ë°©ì‹ ë¶ˆì¼ì¹˜ (basic vs post)
* code ë§Œë£Œ/ì¬ì‚¬ìš©
* ì‹œê³„ ì˜¤ì°¨(íŠ¹íˆ OIDC id_token ê²€ì¦ ì‹œ)

---

## 4.2 UserInfo í˜¸ì¶œ(B) ğŸ‘¤ğŸ“¡

`DefaultOAuth2UserService#loadUser()`ê°€ ì‹¤ì œ HTTP í˜¸ì¶œì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

ì‚¬ìš©ì ì½”ë“œì— ìˆëŠ” ìš”ì•½ì€ ì •í™•í•©ë‹ˆë‹¤.
ë‹¤ë§Œ ì‹¤ë¬´ì—ì„œ ì¤‘ìš”í•œ ë””í…Œì¼ 4ê°œë¥¼ ì¶”ê°€í•˜ë©´ ë” íƒ„íƒ„í•´ì§‘ë‹ˆë‹¤.

### âœ… (1) UserInfo URIê°€ ì—†ìœ¼ë©´? ğŸš«

* ì–´ë–¤ ProviderëŠ” UserInfoë¥¼ ì•ˆ ì“°ê³  id_token claimsë¡œë§Œ ëë‚´ëŠ” ê²½ìš°ë„ ìˆìŒ(OIDC)
* ì´ë•ŒëŠ” `OidcUserService` ê²½ë¡œë¡œ ê°ˆ ìˆ˜ ìˆìŒ ğŸªª

### âœ… (2) Bearer Auth í—¤ë” êµ¬ì„± ğŸ”

```java
headers.setBearerAuth(accessToken.getTokenValue());
```

### âœ… (3) ì˜ˆì™¸ ë³€í™˜ ğŸŒ©ï¸

* RestClientException â†’ OAuth2AuthenticationExceptionìœ¼ë¡œ ë˜í•‘
* ì‹¤íŒ¨ ì‹œ FailureHandlerë¡œ

### âœ… (4) `userNameAttributeName`ì˜ ì˜ë¯¸ ğŸ·ï¸

* `OAuth2User#getName()`ì— ì“°ëŠ” â€œì‹ë³„ì keyâ€
* Googleì´ë©´ ë³´í†µ `sub`
* GitHubë©´ `id`
* Naver/KakaoëŠ” ì¤‘ì²© êµ¬ì¡°(ì»¤ìŠ¤í…€ íŒŒì‹± í•„ìš”) ğŸ§©

---

# 5) `DefaultOAuth2UserService`ì˜ RestOperations êµ¬ì„± ğŸ§°

ì§ˆë¬¸ì— ë“¤ì–´ê°„ ë‚´ìš©ì²˜ëŸ¼ ê¸°ë³¸ì€ RestTemplate ê¸°ë°˜ì…ë‹ˆë‹¤.

```java
RestTemplate restTemplate = new RestTemplate();
restTemplate.setErrorHandler(new OAuth2ErrorResponseErrorHandler());
this.restOperations = restTemplate;
```

### âœ… ì‹¤ë¬´ í¬ì¸íŠ¸

* íƒ€ì„ì•„ì›ƒ ì„¤ì •(ë¡œê·¸ì¸ ì§€ì—° ë°©ì§€) â±ï¸
* í”„ë¡ì‹œ í™˜ê²½/SSL ì„¤ì •
* ë¡œê¹…(ë¯¼ê°ì •ë³´ ë§ˆìŠ¤í‚¹) ğŸ«¥
* ì»¤ë„¥ì…˜ í’€(ê³ ë¶€í•˜ ì„œë¹„ìŠ¤)

---

# 6) ì‘ë‹µ ì˜ˆì‹œ(Google) + nameAttributeKeyì˜ ì‹¤ì œ ì˜ë¯¸ ğŸ§¾ğŸ”

Google UserInfo ì‘ë‹µ(ê°œë…):

```json
{
  "sub": "123456789",
  "name": "í™ê¸¸ë™",
  "email": "hong@example.com",
  "picture": "https://..."
}
```

* userNameAttributeName = `sub`
* ê·¸ë˜ì„œ:

  * `OAuth2User.getName()` = `"123456789"`

ğŸ“Œ ì¤‘ìš”í•œ ê²°ë¡ :
`getName()`ì€ â€œí‘œì‹œìš© ì´ë¦„â€ì´ ì•„ë‹ˆë¼
**Providerì—ì„œ ë³´ì¥í•˜ëŠ” ì‹ë³„ì(primary identifier)ë¡œ ì“°ëŠ” ê²Œ ì•ˆì „**í•©ë‹ˆë‹¤. âœ…

---

# 7) ì»¤ìŠ¤í„°ë§ˆì´ì§•(ì‹¤ë¬´ í¬ì¸íŠ¸ ëŒ€í­ í™•ì¥) ğŸ› ï¸ğŸ”¥

## 7.1 ì™œ `CustomOAuth2UserService`ë¥¼ ì“°ë‚˜? ğŸ¯

ì‚¬ìš©ì ì •ë¦¬ + ì‹¤ë¬´ë¥¼ í•©ì¹˜ë©´ ë³´í†µ 6ê°€ì§€ì…ë‹ˆë‹¤.

âœ… DB upsert (ê°€ì…/ì—…ë°ì´íŠ¸)
âœ… Providerë³„ JSON êµ¬ì¡° í‘œì¤€í™”
âœ… ê¶Œí•œ(Role) ë¶€ì—¬(ROLE_USER/ADMIN ë“±)
âœ… ì´ë©”ì¼ ëˆ„ë½/ë¯¸ë™ì˜ ì²˜ë¦¬(íŠ¹íˆ GitHub) ğŸ“­
âœ… ì°¨ë‹¨/íƒˆí‡´/íœ´ë©´ ì •ì±… ì ìš© ğŸš«
âœ… ë©€í‹° Provider ê³„ì • ì—°ê²° ğŸ”—

---

## 7.2 â€œí‘œì¤€í™” DTOâ€ë¥¼ ì¤‘ì‹¬ì— ë‘ëŠ” ê²Œ í•µì‹¬ ğŸ§¼

Provider ë¶„ê¸° ë¡œì§ì´ ì„œë¹„ìŠ¤ ì½”ë“œ ì—¬ê¸°ì €ê¸° í¼ì§€ë©´ ìœ ì§€ë³´ìˆ˜ í­ë°œí•©ë‹ˆë‹¤. ğŸ’£
ê·¸ë˜ì„œ ë³´í†µ:

* `OAuthAttributes` ê°™ì€ ë§¤í¼ í´ë˜ìŠ¤ë¥¼ ë‘ê³ 
* `CustomOAuth2UserService`ëŠ” ê·¸ ê²°ê³¼ë§Œ ì‚¬ìš©í•˜ë„ë¡ ì„¤ê³„í•©ë‹ˆë‹¤.

---

## 7.3 ì»¤ìŠ¤í…€ Principal ì „ëµ(ê¶Œì¥) ğŸ‘¤ğŸ§©

ì‹¤ë¬´ì—ì„  `DefaultOAuth2User`ë¥¼ ê·¸ëŒ€ë¡œ ì“°ê¸°ë³´ë‹¤:

* `MyPrincipal implements OAuth2User`
* ë˜ëŠ” `UserPrincipal`(userId, roles, email ë“± í¬í•¨)

ì²˜ëŸ¼ â€œë‚´ ì„œë¹„ìŠ¤ í‘œì¤€ Principalâ€ì„ ë§Œë“¤ì–´ë‘ë©´ í¸í•©ë‹ˆë‹¤.

ì™œëƒí•˜ë©´:

* ì»¨íŠ¸ë¡¤ëŸ¬/ì„œë¹„ìŠ¤ ì½”ë“œê°€ provider attributes(Map)ì— ëœ ì˜ì¡´í•˜ê²Œ ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. âœ…

---

# 8) ì¸ì¦ ì €ì¥: â€œë¬´ì—‡ì´ ì–¸ì œ ì €ì¥ë˜ë‚˜?â€ ğŸ§ ğŸ“Œ

ì—¬ê¸°ì„œ ë¬¸ì„œê°€ í•œ ë‹¨ê³„ ë” ì „ë¬¸ê°€ì²˜ëŸ¼ ë³´ì´ë ¤ë©´ â€œì €ì¥ ë ˆì´ì–´â€ë¥¼ ë¶„ë¦¬í•´ì„œ ì„¤ëª…í•˜ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤.

### âœ… ì €ì¥ ë ˆì´ì–´ 3ê°œ

1. **AuthorizationRequest ì €ì¥ì†Œ**

   * ë¡œê·¸ì¸ ì‹œì‘~ì½œë°± ê²€ì¦ìš© (state í¬í•¨)
2. **SecurityContext ì €ì¥ì†Œ**

   * ë¡œê·¸ì¸ ì™„ë£Œ í›„ ì¸ì¦ ìœ ì§€(ì„¸ì…˜)
3. **RequestCache**

   * ë¡œê·¸ì¸ ì „ ì›ë˜ ê°€ë ¤ë˜ URL ë³µê·€ìš©

ì´ 3ê°œê°€ ì„ì—¬ ë³´ì´ë©´ í•™ìŠµìë“¤ì´ í—·ê°ˆë¦½ë‹ˆë‹¤. ğŸ˜µâ€ğŸ’«

---

# 9) ìµœì¢… ìš”ì•½ ğŸ§¾âœ…

| ë‹¨ê³„           | í´ë˜ìŠ¤/ì»´í¬ë„ŒíŠ¸                                      | í•µì‹¬ ì—­í•                                                             |
| ------------ | --------------------------------------------- | ---------------------------------------------------------------- |
| ë¡œê·¸ì¸ ì‹œì‘       | `OAuth2AuthorizationRequestRedirectFilter`    | Authorization Request ìƒì„± + state ìƒì„± + ì €ì¥ + Providerë¡œ redirect ğŸ”€ |
| ìš”ì²­ ì €ì¥        | `AuthorizationRequestRepository`              | state ê²€ì¦ ìœ„í•´ AuthorizationRequest ì €ì¥ ğŸ—ƒï¸                          |
| ì½œë°± ì²˜ë¦¬        | `OAuth2LoginAuthenticationFilter`             | code/state ìˆ˜ì‹  â†’ AuthenticationManager ìœ„ì„ ğŸšª                      |
| í† í° êµí™˜        | `DefaultAuthorizationCodeTokenResponseClient` | code â†’ access token êµí™˜ ğŸ”‘                                        |
| ì‚¬ìš©ì ë¡œë”©       | `DefaultOAuth2UserService`                    | UserInfo í˜¸ì¶œ(Bearer) â†’ attributes ìˆ˜ì‹  ğŸ‘¤ğŸ“¡                         |
| Principal ìƒì„± | `DefaultOAuth2User` / Custom                  | attributes + nameKey + authoritiesë¡œ ì‚¬ìš©ì ê°ì²´ ìƒì„± ğŸ§©                 |
| ì¸ì¦ í™•ì •        | `OAuth2AuthenticationToken`(ë“±)                | ìµœì¢… Authentication ìƒì„± ğŸ›¡ï¸                                         |
| ì €ì¥           | `SecurityContextRepository`                   | SecurityContextë¥¼ ì„¸ì…˜ ë“±ì— ì €ì¥ ğŸ§                                      |
| ì´í›„ ì ‘ê·¼        | `@AuthenticationPrincipal`                    | OAuth2User/OidcUserë¡œ ì ‘ê·¼ ê°€ëŠ¥ ğŸ‰                                    |


